{% comment %} 
  Name: Block Content
  Version: 1.0
{% endcomment %}

{% assign blockName = section.settings.title | downcase | replace: " ", "-" %}

<div class="block-section block-{{ blockName }}">
  <div class="block-content">
    {% if section.settings.subtitle %}
      <h4 class="block-subtitle block-subtitle-{{ blockName }} text-center">{{ section.settings.subtitle }}</h2>
    {% endif %}

    {% if section.settings.title %}
      <h3 class="block-title block-title-{{ blockName }} text-center">{{ section.settings.title }}</h1>
    {% endif %}

    {% if section.settings.paragraph %}
      <p class="block-paragraph block.paragraph-{{ blockName }} text-center">{{ section.settings.paragraph }}</p>
    {% endif %}

    {% for block in section.blocks %}
      {% case block.type %}
        {% when 'select' %}
          {% assign btnBkg = block.settings.buttonBackgroundColor %}
          {% assign btnColor = block.settings.buttonTextColor %}
          <a href="{{ block.settings.link }}" class="block-button block-{{ blockName }}-button">{{ block.settings.linkText }}</a>
      {% endcase %}
    {% endfor %}
  </div>

  {% for block in section.blocks %}
    {% case block.type %}
      {% when 'image' %}
        {% assign imageName = block.settings.blockImage %}
        {% assign imagePosition = block.settings.imagePosition %}

        <div class="block-section-image block-{{ blockName }}-image image-{{ imagePosition }}"></div>
    {% endcase %}
  {% endfor %}

</div>

{% schema %}

{
  "name": "Layout Block Content",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    }, {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle"
    }, {
      "type": "html",
      "id": "paragraph",
      "label": "paragraph"
    }, {
      "type": "color",
      "id": "block-background-color",
      "label": "Background color",
      "default": "#fff"
    }
  ],
  "blocks": [
    {
      "type": "select",
      "name": "Add Button",
      "limit": 1,
      "settings": [
        {
          "id": "link",
          "type": "url",
          "label": "Button link"
        }, {
          "id": "linkText",
          "type": "text",
          "label": "Button text",
          "default": "Click here"
        }, {
          "id": "buttonBackgroundColor",
          "type": "color",
          "label": "Button Background Color"
        }, {
          "id": "buttonTextColor",
          "type": "color",
          "label": "Button Text Color"
        }
      ]
    }, {
      "type": "image",
      "name": "Block Image",
      "limit": 1,
      "settings": [
        {
          "type": "image_picker",
          "label": "Add Image",
          "id": "blockImage"
        }, {
          "type": "radio",
          "id": "imagePosition",
          "label": "Choose which side you want your image",
          "options": [
            {
              "value": "left",
              "label": "Left"
            }, {
              "value": "right",
              "label": "Right"
            }
          ]
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Block Section",
      "category": "Layout"
    }
  ]
}

{% endschema %}

{% stylesheet %}



{% endstylesheet %}

{% javascript %}



{% endjavascript %}

<style>
  .block-section {
    display: inline-block;
    width: 100%;
    position: relative;
    padding: 50px 0;
  }

  .block-title {
    font-family: Recoleta;
    font-size: 50px;
  }

  .block-subtitle {
    text-transform: uppercase;
  }

  .block-content {
    {% case imagePosition %}
      {% when 'left' %}float: right;
      padding: 0 2%;
      width: 50%;
      {% when 'right' %}float: left;
      padding: 0 2%;
      width: 50%;
      {% else %}float: none;
      width: 100%;
    {% endcase %}
  }

  .block-section-image { 
    line-height: 0;
    top: 0;
    width: 50%;
  }

  .block-button {
    border-radius: 6px;
    display: table;
    margin: auto;
    padding: 12px 40px 12px 40px;
    font-size: 18px;
    margin-top: 50px;
    margin-bottom: 20px;
    position: relative;
    top: 0;
    left: 0;
    z-index: 9;
    box-shadow: 1px 1px 0px 0px, 2px 2px 0px 0px, 3px 3px 0px 0px, 4px 4px 0px 0px, 5px 5px 0px 0px;
    -webkit-box-shadow: 1px 1px 0px 0px, 2px 2px 0px 0px, 3px 3px 0px 0px, 4px 4px 0px 0px, 5px 5px 0px 0px;
    -moz-box-shadow: 1px 1px 0px 0px, 2px 2px 0px 0px, 3px 3px 0px 0px, 4px 4px 0px 0px, 5px 5px 0px 0px;
    transition-duration: 0.3s;
    -moz-transition-duration: 0.3s;
    -webkit-transition-duration: 0.3s;
  }

  .block-button:active,
  .block-button:hover,
  .block-button:focus {
    -moz-box-shadow: 0px 0px 0px 0px;
    -webkit-box-shadow: 0px 0px 0px 0px;
    box-shadow: 0px 0px 0px 0px;
    position: relative;
    top: 10px;
    left: 5px;
    transition-duration: 0.3s;
    -moz-transition-duration: 0.3s;
    -webkit-transition-duration: 0.3s;
  }

  .block-{{blockName}} {
    background-color: {{ section.settings.block-background-color }};
  }

  .block-{{blockName}}-image:before {
    content: "";
    background-image: url({{ imageName | img_url: "master" }});
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    position: relative;
    display: inline-block;
    width: 100%;
    height: 100vh;
  }

  .block-{{blockName}}-image.image-left {
    float: left;
    left: 0;
  }

  .block-{{blockName}}-image.image-right {
    float: right;
    right: 0;
  }

  .block-{{ blockName }}-button {
    background-color: {{ btnBkg }};
    border: 2px solid {{ btnColor }} !important;
    color: {{ btnColor }} !important;
  }

  .block-{{ blockName }}-button:active,
  .block-{{ blockName }}-button:hover,
  .block-{{ blockName }}-button:focus {
    /* border: 2px solid {{ btnColor }} !important;
    color: {{ btnColor }} !important; */
  }
</style>